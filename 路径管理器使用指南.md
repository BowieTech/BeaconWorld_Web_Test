# ğŸ”§ AssetPathManager ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

AssetPathManager æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„èµ„æºè·¯å¾„ç®¡ç†å·¥å…·ï¼Œä¸“é—¨è§£å†³ Flutter Web åº”ç”¨ä¸­æœ¬åœ°å¼€å‘å’Œå‘å¸ƒç¯å¢ƒè·¯å¾„ä¸ä¸€è‡´çš„é—®é¢˜ã€‚

## ğŸ¯ è§£å†³çš„é—®é¢˜

### ä¼ ç»Ÿé—®é¢˜
- **æœ¬åœ°å¼€å‘**: èµ„æºè·¯å¾„ä¸º `assets/images/xxx.png`
- **Webå‘å¸ƒ**: å®é™…è·¯å¾„ä¸º `assets/assets/images/xxx.png`
- **ç»“æœ**: éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ä¸¤å¥—è·¯å¾„ï¼Œå®¹æ˜“å‡ºé”™

### è§£å†³æ–¹æ¡ˆ
- **ç»Ÿä¸€æ¥å£**: ä»£ç ä¸­åªå†™ç®€å•è·¯å¾„
- **è‡ªåŠ¨è½¬æ¢**: ç³»ç»Ÿæ ¹æ®ç¯å¢ƒè‡ªåŠ¨æ·»åŠ æ­£ç¡®å‰ç¼€
- **é›¶ç»´æŠ¤**: ä¸€æ¬¡é…ç½®ï¼Œæ°¸ä¹…ä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯¼å…¥è·¯å¾„ç®¡ç†å™¨

```dart
import 'package:my_beacon_app_new/utils/asset_path_manager.dart';
```

### 2. åŸºæœ¬ä½¿ç”¨æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šé™æ€æ–¹æ³•è°ƒç”¨
```dart
// å›¾ç‰‡
Image.asset(AssetPathManager.getImagePath('avatar.png'))

// 3Dæ¨¡å‹
ModelViewer(src: AssetPathManager.getModelPath('bommieBoy.glb'))

// è§†é¢‘
VideoPlayerController.asset(AssetPathManager.getVideoPath('1.mp4'))

// é€šç”¨èµ„æº
AssetPathManager.getAssetPath('assets/fonts/custom.ttf')
```

#### æ–¹æ³•äºŒï¼šæ‰©å±•æ–¹æ³•ï¼ˆæ¨èï¼‰
```dart
// æ›´ç®€æ´çš„å†™æ³•
Image.asset('avatar.png'.imagePath)
ModelViewer(src: 'bommieBoy.glb'.modelPath)
VideoPlayerController.asset('1.mp4'.videoPath)
```

## ğŸ“š API å‚è€ƒ

### æ ¸å¿ƒæ–¹æ³•

#### `getAssetPath(String originalPath)`
åŸºç¡€è·¯å¾„è½¬æ¢æ–¹æ³•
- **è¾“å…¥**: åŸå§‹è·¯å¾„
- **è¾“å‡º**: ç¯å¢ƒé€‚é…åçš„è·¯å¾„

#### `getImagePath(String imagePath)`
å›¾ç‰‡è·¯å¾„è½¬æ¢
- **è¾“å…¥**: å›¾ç‰‡æ–‡ä»¶åæˆ–ç›¸å¯¹è·¯å¾„
- **è¾“å‡º**: å®Œæ•´çš„å›¾ç‰‡è·¯å¾„

#### `getModelPath(String modelPath)`
3Dæ¨¡å‹è·¯å¾„è½¬æ¢
- **è¾“å…¥**: æ¨¡å‹æ–‡ä»¶åæˆ–ç›¸å¯¹è·¯å¾„
- **è¾“å‡º**: å®Œæ•´çš„æ¨¡å‹è·¯å¾„

#### `getVideoPath(String videoPath)`
è§†é¢‘è·¯å¾„è½¬æ¢
- **è¾“å…¥**: è§†é¢‘æ–‡ä»¶åæˆ–ç›¸å¯¹è·¯å¾„
- **è¾“å‡º**: å®Œæ•´çš„è§†é¢‘è·¯å¾„

#### `getFontPath(String fontPath)`
å­—ä½“è·¯å¾„è½¬æ¢

#### `getAudioPath(String audioPath)`
éŸ³é¢‘è·¯å¾„è½¬æ¢

### æ‰©å±•æ–¹æ³•

```dart
extension AssetPathExtension on String {
  String get assetPath;    // é€šç”¨è·¯å¾„è½¬æ¢
  String get imagePath;    // å›¾ç‰‡è·¯å¾„
  String get modelPath;    // æ¨¡å‹è·¯å¾„
  String get videoPath;    // è§†é¢‘è·¯å¾„
  String get fontPath;     // å­—ä½“è·¯å¾„
  String get audioPath;    // éŸ³é¢‘è·¯å¾„
}
```

### å·¥å…·æ–¹æ³•

#### `getDebugInfo()`
è·å–å½“å‰ç¯å¢ƒä¿¡æ¯
```dart
print(AssetPathManager.getDebugInfo());
// è¾“å‡º: Platform: Web, Mode: Release
```

#### `convertPathMap(Map<String, String> originalPaths)`
æ‰¹é‡è½¬æ¢è·¯å¾„æ˜ å°„

#### `convertPathList(List<String> originalPaths)`
æ‰¹é‡è½¬æ¢è·¯å¾„åˆ—è¡¨

## ğŸ¨ ä½¿ç”¨ç¤ºä¾‹

### å›¾ç‰‡ç»„ä»¶
```dart
// å¤´åƒæ˜¾ç¤º
CircleAvatar(
  backgroundImage: AssetImage('avatars/user.png'.imagePath),
)

// èƒŒæ™¯å›¾ç‰‡
Container(
  decoration: BoxDecoration(
    image: DecorationImage(
      image: AssetImage('backgrounds/main.jpg'.imagePath),
      fit: BoxFit.cover,
    ),
  ),
)
```

### 3Dæ¨¡å‹
```dart
ModelViewer(
  backgroundColor: Colors.transparent,
  src: 'bommieBoy.glb'.modelPath,
  alt: 'Bommie 3D Model',
  autoRotate: true,
)
```

### è§†é¢‘æ’­æ”¾
```dart
final controller = VideoPlayerController.asset('intro.mp4'.videoPath);
```

### æ‰¹é‡å¤„ç†
```dart
final imagePaths = ['avatar.png', 'background.jpg', 'icon.png'];
final convertedPaths = AssetPathManager.convertPathList(imagePaths);
```

## ğŸ” è·¯å¾„è½¬æ¢è§„åˆ™

### æœ¬åœ°å¼€å‘ç¯å¢ƒ
- è¾“å…¥: `'avatar.png'`
- è¾“å‡º: `'assets/images/avatar.png'`

### Webå‘å¸ƒç¯å¢ƒ
- è¾“å…¥: `'avatar.png'`
- è¾“å‡º: `'assets/assets/images/avatar.png'`

### å·²æœ‰å®Œæ•´è·¯å¾„
- è¾“å…¥: `'assets/images/avatar.png'`
- æœ¬åœ°è¾“å‡º: `'assets/images/avatar.png'`
- Webè¾“å‡º: `'assets/assets/images/avatar.png'`

## ğŸ§ª æµ‹è¯•å’Œè°ƒè¯•

### è¿è¡Œæµ‹è¯•
```dart
import 'package:my_beacon_app_new/utils/asset_path_test.dart';

// è¿è¡Œæ‰€æœ‰æµ‹è¯•
AssetPathTest.runTests();

// éªŒè¯è·¯å¾„è½¬æ¢
bool isCorrect = AssetPathTest.validatePaths();
```

### è°ƒè¯•ä¿¡æ¯
```dart
// æŸ¥çœ‹å½“å‰ç¯å¢ƒ
print(AssetPathManager.getDebugInfo());

// æµ‹è¯•ç‰¹å®šè·¯å¾„
print(AssetPathManager.getImagePath('test.png'));
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¯¼å…¥è·¯å¾„ç®¡ç†å™¨**: åœ¨ä½¿ç”¨å‰ç¡®ä¿æ­£ç¡®å¯¼å…¥
2. **æ–‡ä»¶å­˜åœ¨æ€§**: ç¡®ä¿èµ„æºæ–‡ä»¶å®é™…å­˜åœ¨äºå¯¹åº”ç›®å½•
3. **è·¯å¾„æ ¼å¼**: ä½¿ç”¨æ­£æ–œæ  `/` ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦
4. **å¤§å°å†™æ•æ„Ÿ**: æ–‡ä»¶åå¤§å°å†™å¿…é¡»å®Œå…¨åŒ¹é…

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»æ—§ä»£ç è¿ç§»

#### æ›¿æ¢ç¡¬ç¼–ç è·¯å¾„
```dart
// æ—§ä»£ç 
Image.asset('assets/assets/images/avatar.png')

// æ–°ä»£ç 
Image.asset('avatar.png'.imagePath)
```

#### æ‰¹é‡æ›¿æ¢
ä½¿ç”¨ IDE çš„æŸ¥æ‰¾æ›¿æ¢åŠŸèƒ½ï¼š
- æŸ¥æ‰¾: `'assets/assets/images/`
- æ›¿æ¢: `AssetPathManager.getImagePath('`

## ğŸ‰ æœ€ä½³å®è·µ

1. **ä¼˜å…ˆä½¿ç”¨æ‰©å±•æ–¹æ³•**: ä»£ç æ›´ç®€æ´
2. **ç»Ÿä¸€å‘½åè§„èŒƒ**: ä¿æŒæ–‡ä»¶åçš„ä¸€è‡´æ€§
3. **åŠæ—¶æµ‹è¯•**: ä½¿ç”¨å†…ç½®æµ‹è¯•å·¥å…·éªŒè¯
4. **æ–‡æ¡£æ›´æ–°**: è®°å½•è‡ªå®šä¹‰è·¯å¾„è§„åˆ™

---

é€šè¿‡ä½¿ç”¨ AssetPathManagerï¼Œæ‚¨å¯ä»¥ï¼š
- âœ… ç®€åŒ–èµ„æºè·¯å¾„ç®¡ç†
- âœ… é¿å…ç¯å¢ƒå·®å¼‚é—®é¢˜
- âœ… æé«˜ä»£ç å¯ç»´æŠ¤æ€§
- âœ… å‡å°‘éƒ¨ç½²é”™è¯¯

å¼€å§‹ä½¿ç”¨æ™ºèƒ½è·¯å¾„ç®¡ç†ï¼Œè®©å¼€å‘æ›´è½»æ¾ï¼ğŸš€
